# embedded web server
server.port=8443
server.ssl.key-store-type=PKCS12
server.ssl.key-store=file:/tmp/${FQDN}.p12
server.ssl.key-store-password=changeit
server.ssl.key-alias=${FQDN}
server.ssl.enabled=true

# spring core
spring.application.name=@project.name@
spring.application.version=@project.version@

# configure logback
logging.file.name=/var/log/spring/@project.name@.log
logging.level.org.springframework.context=WARN
logging.level.org.springframework.jdbc.datasource.init=DEBUG
logging.level.org.springframework.web=WARN
logging.level.com.remal.gombi=DEBUG

# customize the jackson object mapper
spring.jackson.serialization.indent_output=true

# hashicorp consul
spring.config.import=consul:
spring.cloud.consul.host=localhost
spring.cloud.consul.port=8500
spring.cloud.consul.discovery.instanceId=${spring.application.name}
spring.cloud.consul.discovery.tags=service,${spring.application.version}
spring.cloud.consul.discovery.scheme=https
spring.cloud.consul.discovery.health-check-interval=2s
spring.cloud.consul.discovery.health-check-timeout=2s
spring.cloud.consul.discovery.health-check-critical-timeout=10s
spring.cloud.consul.discovery.query-passing=true

# application monitoring
management.prometheus.metrics.export.enabled=true
management.endpoint.prometheus.enabled=true
management.endpoints.web.exposure.include=health, prometheus

# database
spring.datasource.url=jdbc:postgresql://localhost:5432/default_db
spring.datasource.username=application
spring.datasource.password=password

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.format_sql=true

spring.sql.init.mode=always
spring.sql.init.platform=postgresql
spring.sql.init.continue-on-error=false
